<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Iron Companies</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  padding:0;
  font-family:'Orbitron',sans-serif;
  background:radial-gradient(ellipse at top,#0f0f0f,#000);
  color:#00f7ff;
  display:flex;
  flex-direction:column;
  align-items:center;
  min-height:100vh;
  padding:20px;
}

h1{
  font-size:3rem;
  text-shadow:0 0 10px #00f7ff,0 0 20px #00f7ff;
}

.section{
  background:rgba(255,255,255,0.03);
  border:1px solid #00f7ff44;
  border-radius:20px;
  padding:20px;
  margin:20px;
  max-width:900px;
  width:100%;
  backdrop-filter:blur(10px);
  transition:.3s ease;
}

.section:hover{
  transform:translateY(-5px);
}

button{
  background:#00f7ff;
  color:#000;
  padding:10px 20px;
  border:none;
  border-radius:10px;
  cursor:pointer;
  font-family:'Orbitron',sans-serif;
  transition:.3s ease;
  box-shadow:0 0 10px #00f7ff;
}

button:hover{
  transform:scale(1.1);
  box-shadow:0 0 20px #00f7ff;
}

textarea,input{
  width:100%;
  background:#000;
  color:#0ff;
  border:1px solid #0ff;
  padding:10px;
  margin-top:10px;
  font-family:monospace;
}

.output{
  background:#000;
  border:1px solid #0ff;
  padding:10px;
  margin-top:10px;
  min-height:50px;
  white-space:pre-wrap;
}

.modal{
  display:none;
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.9);
  justify-content:center;
  align-items:center;
}

.modal-content{
  background:#111;
  padding:20px;
  border:1px solid #00f7ff;
  border-radius:15px;
  width:90%;
  max-width:400px;
}

.close{
  float:right;
  cursor:pointer;
}
</style>
</head>

<body>

<h1 id="typeTitle"></h1>
<p><strong>Founder:</strong> Morris Arthur</p>
<p><em>Code. Create. Control.</em></p>

<div class="section">
<h2>Ironscript Interpreter</h2>
<textarea id="ironscriptCode" placeholder="let x = 5&#10;print(x)"></textarea>
<button onclick="runIronscript()">Run</button>
<div class="output" id="output"></div>
</div>

<div class="section">
<h2>Join Iron Companies</h2>
<button onclick="openJoinModal()">ðŸš€ Join Iron Companies</button>
</div>

<!-- JOIN MODAL -->
<div id="joinModal" class="modal">
<div class="modal-content">
<span class="close" onclick="closeJoinModal()">&times;</span>
<h3>Employee Access</h3>
<input type="email" id="email" placeholder="Email">
<input type="password" id="password" placeholder="Password">
<button onclick="register()">Create Account</button>
<button onclick="login()">Login</button>
<div class="output" id="authOutput"></div>
</div>
</div>

<!-- JS -->
<script type="module">

// ðŸ”¥ TYPEWRITER EFFECT
const titleText="Iron Companies";
let i=0;
function typeEffect(){
  if(i<titleText.length){
    document.getElementById("typeTitle").innerHTML+=titleText.charAt(i);
    i++;
    setTimeout(typeEffect,80);
  }
}
typeEffect();

// ðŸ”¥ IRONSCRIPT ENGINE
window.runIronscript=function(){
  const code=document.getElementById("ironscriptCode").value;
  const output=document.getElementById("output");
  output.innerText="";
  let variables={};

  try{
    code.split("\n").forEach(line=>{
      line=line.trim();

      if(line.startsWith("let")){
        let parts=line.replace("let","").split("=");
        let name=parts[0].trim();
        let value=eval(parts[1]);
        variables[name]=value;
      }

      else if(line.startsWith("print")){
        let content=line.match(/print\((.*?)\)/)[1];
        Object.keys(variables).forEach(v=>{
          content=content.replaceAll(v,variables[v]);
        });
        output.innerText+=eval(content)+"\n";
      }
    });
  }catch(err){
    output.innerText="Error: "+err.message;
  }
}

// ðŸ”¥ MODAL CONTROL
window.openJoinModal=()=>document.getElementById("joinModal").style.display="flex";
window.closeJoinModal=()=>document.getElementById("joinModal").style.display="none";

// ðŸ”¥ FIREBASE
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { 
  getAuth,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  sendEmailVerification
} from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

const firebaseConfig={
  apiKey:"YOUR_API_KEY",
  authDomain:"YOUR_AUTH_DOMAIN",
  projectId:"YOUR_PROJECT_ID",
  appId:"YOUR_APP_ID"
};

const app=initializeApp(firebaseConfig);
const auth=getAuth(app);

window.register=async function(){
  const email=document.getElementById("email").value;
  const password=document.getElementById("password").value;
  const output=document.getElementById("authOutput");

  try{
    const user=await createUserWithEmailAndPassword(auth,email,password);
    await sendEmailVerification(user.user);
    output.innerText="Verification email sent.";
  }catch(err){
    output.innerText=err.message;
  }
}

window.login=async function(){
  const email=document.getElementById("email").value;
  const password=document.getElementById("password").value;
  const output=document.getElementById("authOutput");

  try{
    const user=await signInWithEmailAndPassword(auth,email,password);

    if(user.user.emailVerified){
      window.location.href="employee.html";
    }else{
      output.innerText="Verify email before login.";
    }
  }catch(err){
    output.innerText=err.message;
  }
}

</script>
</body>
</html>
